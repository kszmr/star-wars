[{"C:\\Users\\Karine\\Desktop\\Projetos\\star-wars\\src\\index.tsx":"1","C:\\Users\\Karine\\Desktop\\Projetos\\star-wars\\src\\app.tsx":"2","C:\\Users\\Karine\\Desktop\\Projetos\\star-wars\\src\\api\\generic-api.ts":"3","C:\\Users\\Karine\\Desktop\\Projetos\\star-wars\\src\\api\\axios-instance.ts":"4"},{"size":168,"mtime":1607705677039,"results":"5","hashOfConfig":"6"},{"size":803,"mtime":1608326033432,"results":"7","hashOfConfig":"6"},{"size":2149,"mtime":1608057185243,"results":"8","hashOfConfig":"6"},{"size":479,"mtime":1607708008002,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"fu1njr",{"filePath":"13","messages":"14","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"15","messages":"16","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"17","usedDeprecatedRules":"12"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"C:\\Users\\Karine\\Desktop\\Projetos\\star-wars\\src\\index.tsx",[],["20","21"],"C:\\Users\\Karine\\Desktop\\Projetos\\star-wars\\src\\app.tsx",["22","23"],"C:\\Users\\Karine\\Desktop\\Projetos\\star-wars\\src\\api\\generic-api.ts",["24","25"],"import Axios, { AxiosResponse } from 'axios';\r\nimport {getAxiosInstance} from './axios-instance';\r\n\r\nexport type SWAPIEndpoint = 'people' | 'films' | 'starships' | 'vehicles' | 'species' | 'planets';\r\n\r\nexport interface PageData {\r\n    next: number | null | undefined;\r\n    previous: number | null;\r\n    total: number;\r\n    totalRegisters: number;\r\n}\r\n\r\nexport interface PageableResponse<T> {\r\n    data: T[];\r\n    page: PageData;\r\n}\r\n\r\nexport interface ResourceReturn<T> {\r\n    getSchema: () => void;\r\n    getById: (id: number) => Promise<T>;\r\n    getAll: (page: number) => Promise<PageableResponse<T>>\r\n}\r\n\r\nexport const genericController = <T> (endpoint: SWAPIEndpoint): ResourceReturn<T> => {\r\n    const axios = getAxiosInstance();\r\n\r\n    const getSchema = async () => {\r\n        const response = await axios.get(`/${endpoint}/schema`);\r\n        return response.data;\r\n    }\r\n\r\n    const getById = async (id:number): Promise<T> => {\r\n        const response = await axios.get(`/${endpoint}/${id}`)\r\n        return response.data;\r\n    }\r\n\r\n    const getAll = async (pageNumber: number) : Promise<PageableResponse<T>> => {\r\n        const response = await axios.get(`/${endpoint}/?page=${pageNumber}`);\r\n        const data: T[] = response.data.results;\r\n        const page: PageData = getPageData(response);\r\n        return {page, data}\r\n    }\r\n\r\n    const getPageData = (response: AxiosResponse):PageData => {\r\n        const next: number | null = getPageNumber(response.data.next);\r\n        const previous: number | null = getPageNumber(response.data.previous);\r\n        const resultSize = response.data.results.length;\r\n        const count = response.data.count;\r\n        const total: number = (count % resultSize) === 0 ? (count / resultSize) : Math.floor(count / resultSize) + 1;\r\n\r\n        return {next, previous, total, totalRegisters: count}\r\n    }\r\n\r\n    const getPageNumber = (url: string|null) : number|null => {\r\n        if (!url) return null;\r\n        const matches = url.match('page=\\\\d+');\r\n        if (matches) return parseInt(matches [0].replace('page=',''));\r\n        return null;\r\n    }\r\n\r\n    return {getSchema, getById, getAll}\r\n}","C:\\Users\\Karine\\Desktop\\Projetos\\star-wars\\src\\api\\axios-instance.ts",[],{"ruleId":"26","replacedBy":"27"},{"ruleId":"28","replacedBy":"29"},{"ruleId":"30","severity":1,"message":"31","line":1,"column":29,"nodeType":"32","messageId":"33","endLine":1,"endColumn":45},{"ruleId":"34","severity":1,"message":"35","line":15,"column":8,"nodeType":"36","endLine":15,"endColumn":10,"suggestions":"37"},{"ruleId":"30","severity":1,"message":"38","line":1,"column":8,"nodeType":"32","messageId":"33","endLine":1,"endColumn":13},{"ruleId":"39","severity":1,"message":"40","line":57,"column":38,"nodeType":"41","messageId":"42","endLine":57,"endColumn":49,"fix":"43"},"no-native-reassign",["44"],"no-negated-in-lhs",["45"],"@typescript-eslint/no-unused-vars","'PageableResponse' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getAll'. Either include it or remove the dependency array.","ArrayExpression",["46"],"'Axios' is defined but never used.","no-whitespace-before-property","Unexpected whitespace before property 0.","MemberExpression","unexpectedWhitespace",{"range":"47","text":"48"},"no-global-assign","no-unsafe-negation",{"desc":"49","fix":"50"},[2048,2049],"","Update the dependencies array to be: [getAll]",{"range":"51","text":"52"},[522,524],"[getAll]"]